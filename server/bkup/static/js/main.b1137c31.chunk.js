(this["webpackJsonprealtime-multi-player"]=this["webpackJsonprealtime-multi-player"]||[]).push([[0],{32:function(t,n,e){},33:function(t,n,e){},63:function(t,n,e){"use strict";e.r(n);var o,c=e(0),i=e.n(c),r=e(8),a=e.n(r),s=(e(32),e(33),e(1)),u=e(10),l=e.n(u),d=e(17),f=e(27),O=e(24),S=e.n(O),h=e(2),v=window.innerWidth-10,p=window.innerHeight-30,j=null,E=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_ADDR||"letsdrawtogether.net",b=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_PORT,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).WEBSOCKET_ENDPOINT||"websockettest"),_=JSON.stringify({action:"CLEAR"}),g="black",C=new Set,T=!1,w=function(){D();var t="wss://".concat(E,"/").concat(b);console.log("Attempting to connect to websocket on: ".concat(t)),(j=new WebSocket(t)).onopen=function(){console.log("WebSocket Client Connected")},j.onmessage=function(t){var n=JSON.parse(t.data);"CLEAR"===(null===n||void 0===n?void 0:n.action)&&C.clear(),void 0!==(null===n||void 0===n?void 0:n.type)&&C.add(n)}},R=function(t,n){var e=t.getBoundingClientRect(),o=n.clientX-e.left,c=n.clientY-e.top,i={type:"CIRCLE",color:g,radius:2,posX:o,posY:c};j.send(JSON.stringify(i))},m=function(t){t.fillStyle="white",t.fillRect(0,0,o.width,o.height),Array.from(C).map((function(n){!function(t){var n=t.ctx,e=t.posX,o=t.posY,c=t.radius,i=t.color;n.beginPath(),n.arc(e,o,c,0,2*Math.PI),n.fillStyle=i,n.fill(),n.strokeStyle=i,n.stroke()}(Object(f.a)({ctx:t},n))}))},x=function(){j.send(_)},D=function(){var t="https://letsdrawtogether.net/api/canvasState";console.log(t),fetch(t,{method:"GET"}).then((function(t){return t.json()})).then((function(t){console.log(t),C=new Set(t),console.log(C)}))},P=function(t,n){T=!1},y=function(){var t=Object(c.useRef)();Object(c.useEffect)(Object(d.a)(l.a.mark((function n(){var e,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(),(o=t.current).addEventListener("mousedown",(function(t){return R(o,t)})),c=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.getContext("2d"),m(n),e=requestAnimationFrame(c);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.next=6,c();case 6:return n.abrupt("return",(function(){cancelAnimationFrame(e)}));case 7:case"end":return n.stop()}}),n)}))));return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Created By: Rich White - CS5283"}),Object(h.jsx)("button",{onClick:x,children:"Clear Canvas"}),Object(h.jsx)("canvas",{ref:t,width:v,height:p,onMouseDown:function(t){return function(t,n){R(t,n),T=!0}(o,t)},onMouseMove:function(t){return function(t,n){T&&R(t,n)}(o,t)},onMouseUp:function(t){return P()},onMouseLeave:function(t){return P()}}),Object(h.jsxs)("div",{children:[Object(h.jsx)(S.a,{value:g,onDrag:function(t,n){console.log(t),console.log(n),g=t}}),Object(h.jsx)("div",{style:{background:g,width:50,height:50,color:"white"},children:undefined.state.color})]})]})},A=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(s.a,{exact:!0,path:"/",component:y})})},W=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,66)).then((function(n){var e=n.getCLS,o=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;e(t),o(t),c(t),i(t),r(t)}))},k=e(16),L=e(65);a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(k.a,{children:Object(h.jsx)(L.a,{children:Object(h.jsx)(A,{})})})}),document.getElementById("root")),W()}},[[63,1,2]]]);
//# sourceMappingURL=main.b1137c31.chunk.js.map