(this["webpackJsonprealtime-multi-player"]=this["webpackJsonprealtime-multi-player"]||[]).push([[0],{22:function(t,e,n){},23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var o,c=n(0),i=n.n(c),r=n(14),a=n.n(r),u=(n(22),n(23),n(1)),s=n(7),l=n.n(s),d=n(11),f=n(17),S=n(2),O=window.innerWidth-10,h=window.innerHeight-15,p=null,v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_ADDR||"letsdrawtogether.net",E=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_PORT,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).WEBSOCKET_ENDPOINT||"websockettest"),_=new Set,b=!1,j=function(){R();var t="wss://".concat(v,"/").concat(E);console.log("Attempting to connect to websocket on: ".concat(t)),(p=new WebSocket(t)).onopen=function(){console.log("WebSocket Client Connected")},p.onmessage=function(t){var e=JSON.parse(t.data);"CLEAR"===(null===e||void 0===e?void 0:e.action)&&_.clear(),void 0!==(null===e||void 0===e?void 0:e.type)&&_.add(e)}},C=function(t,e){var n=t.getBoundingClientRect(),o={type:"CIRCLE",color:"black",radius:2,posX:e.clientX-n.left,posY:e.clientY-n.top};p.send(JSON.stringify(o))},T=function(t){t.fillStyle="white",t.fillRect(0,0,o.width,o.height),Array.from(_).map((function(e){!function(t){var e=t.ctx,n=t.posX,o=t.posY,c=t.radius,i=t.color;e.beginPath(),e.arc(n,o,c,0,2*Math.PI),e.fillStyle=i,e.fill(),e.strokeStyle=i,e.stroke()}(Object(f.a)({ctx:t},e))}))},w=function(){var t="https://letsdrawtogether.net/api/clearCanvas";console.log(t),fetch(t,{method:"POST"})},R=function(){var t="https://letsdrawtogether.net/api/canvasState";console.log(t),fetch(t,{method:"GET"}).then((function(t){return t.json()})).then((function(t){return _=new Set(t)}))},g=function(t,e){b=!1},m=function(){var t=Object(c.useRef)();return Object(c.useEffect)(Object(d.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(),(o=t.current).addEventListener("mousedown",(function(t){return C(o,t)})),c=function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=o.getContext("2d"),T(e),n=requestAnimationFrame(c);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.next=6,c();case 6:return e.abrupt("return",(function(){cancelAnimationFrame(n)}));case 7:case"end":return e.stop()}}),e)})))),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:"Created By: Rich White - CS5283"}),Object(S.jsx)("button",{onClick:w,children:"Clear Canvas"}),Object(S.jsx)("canvas",{ref:t,width:O,height:h,onMouseDown:function(t){return function(t,e){C(t,e),b=!0}(o,t)},onMouseMove:function(t){return function(t,e){b&&C(t,e)}(o,t)},onMouseUp:function(t){return g()},onMouseLeave:function(t){return g()}})]})},x=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(u.a,{exact:!0,path:"/",component:m})})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),o(t),c(t),i(t),r(t)}))},P=n(10),W=n(36);a.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(P.a,{children:Object(S.jsx)(W.a,{children:Object(S.jsx)(x,{})})})}),document.getElementById("root")),D()}},[[34,1,2]]]);
//# sourceMappingURL=main.ecc4ec6f.chunk.js.map