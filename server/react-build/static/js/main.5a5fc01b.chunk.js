(this["webpackJsonprealtime-multi-player"]=this["webpackJsonprealtime-multi-player"]||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var o,c=n(0),i=n.n(c),r=n(25),a=n.n(r),s=(n(115),n(116),n(6)),u=n(34),l=n.n(u),d=n(69),f=n(97),h=n(106),p=n(252),O=n(250),j=n(7),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_ADDR||"letsdrawtogether.net",b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).WEBSOCKET_ENDPOINT||"websockettest",S=JSON.stringify({action:"CLEAR"}),w=window.innerWidth-15,g=window.innerHeight-160,E="black",C=!1,x=null,m=new Set,T=function(){y();var e="wss://".concat(v,"/").concat(b);console.log("Attempting to connect to websocket on: ".concat(e)),(x=new WebSocket(e)).onopen=function(){console.log("WebSocket Client Connected")},x.onmessage=function(e){var t=JSON.parse(e.data);"CLEAR"===(null===t||void 0===t?void 0:t.action)&&m.clear(),void 0!==(null===t||void 0===t?void 0:t.type)&&m.add(t)}},_=function(e,t){var n=e.getBoundingClientRect(),o=t.clientX-n.left,c=t.clientY-n.top,i={type:"CIRCLE",color:E,radius:2,posX:o,posY:c};x.send(JSON.stringify(i))},R=function(e){e.fillStyle="white",e.fillRect(0,0,o.width,o.height),Array.from(m).map((function(t){!function(e){var t=e.ctx,n=e.posX,o=e.posY,c=e.radius,i=e.color;t.beginPath(),t.arc(n,o,c,0,2*Math.PI),t.fillStyle=i,t.fill(),t.strokeStyle=i,t.stroke()}(Object(f.a)({ctx:e},t))}))},k=function(){x.send(S)},y=function(){var e="https://letsdrawtogether.net/api/canvasState";console.log(e),fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),m=new Set(e),console.log(m)}))},D=function(e,t){C=!1},L=Object(O.a)({colorPicker:{position:"relative",bottom:"100px",left:"0px"}}),P=function(){var e=Object(c.useRef)(),t=L(),n=function(e,t,n){e.width=t,e.height=n,w=t,g=n};window.addEventListener("resize",n,!1),Object(c.useEffect)(Object(d.a)(l.a.mark((function t(){var c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(),(o=e.current).addEventListener("mousedown",(function(e){return _(o,e)})),i=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.innerWidth-15,r=window.innerHeight-150,n(o,t,r),a=o.getContext("2d"),R(a),c=requestAnimationFrame(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.next=6,i();case 6:return t.abrupt("return",(function(){cancelAnimationFrame(c)}));case 7:case"end":return t.stop()}}),t)}))));return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:"Created By: Rich White - CS5283"}),Object(j.jsx)(p.a,{onClick:k,children:"Clear Canvas"}),Object(j.jsx)("canvas",{ref:e,width:w,height:g,onMouseDown:function(e){return function(e,t){_(e,t),C=!0}(o,e)},onMouseMove:function(e){return function(e,t){C&&_(e,t)}(o,e)},onMouseUp:function(e){return D()},onMouseLeave:function(e){return D()}}),Object(j.jsx)("div",{className:t.colorPicker,children:Object(j.jsx)(h.a,{onChange:function(e,t){E=e.hex}})})]})},W=n(254),A=function(){return Object(j.jsx)(W.a,{children:"Lets Draw Together! - created by Rich White"})},N=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(A,{}),Object(j.jsx)(s.a,{exact:!0,path:"/",component:P})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),o(e),c(e),i(e),r(e)}))},H=n(68),B=n(253);a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(H.a,{children:Object(j.jsx)(B.a,{children:Object(j.jsx)(N,{})})})}),document.getElementById("root")),F()}},[[232,1,2]]]);
//# sourceMappingURL=main.5a5fc01b.chunk.js.map